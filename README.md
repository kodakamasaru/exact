# ノートアプリ デバッグ課題

## 📝 概要

このプロジェクトは、簡単なノートアプリケーションです。
**意図的にいくつかのバグが含まれています**ので、それらを見つけて修正することが課題となります。

### 使用技術

- **Hono** - 軽量なNode.js Webフレームワーク
- **EJS** - HTMLテンプレートエンジン（サーバーサイドレンダリング）
- **SQLite** - データベース
- **Docker** - 開発環境

---

## 🚀 環境構築・起動方法

### 必要なもの

- Docker Desktop
- Git

---

### Dockerで起動

以下のコマンドを実行すると、アプリケーションが起動します。

```bash
docker-compose up
```

初回起動時は、Dockerイメージのビルドに数分かかる場合があります。

起動後、ブラウザで以下にアクセスしてください。

```
http://localhost:3000
```

---

### 停止方法

ターミナルで `Ctrl + C` を押すか、別のターミナルで以下を実行してください。

```bash
docker-compose down
```

---

## 🛠️ 開発時の操作

### ローカル環境で依存関係をインストールする場合（オプション）

VSCodeなどのテキストエディタで型チェックやコード補完を有効にしたい場合は、以下の手順でローカルに依存関係をインストールしてください。

> **Note:** アプリケーションの実行はDockerで行うため、このステップは必須ではありません。エディタでのエラー表示を防ぐための設定です。

#### 1. Node.jsのインストール

[Node.js公式サイト](https://nodejs.org/)から、v18以上をインストールしてください。

#### 2. pnpmのインストール

```bash
npm install -g pnpm
```

#### 3. 依存関係のインストール

```bash
pnpm install
```

これで、エディタ上で型エラーやインポートエラーが表示されなくなります。

---

## 📂 プロジェクト構成

```
.
├── src/
│   ├── app/
│   │   ├── note/            # ノート機能
│   │   │   ├── controller.ts
│   │   │   ├── model.ts
│   │   │   ├── route.ts
│   │   │   └── view/        # EJSテンプレート
│   │   ├── route/           # ルート定義
│   │   └── shared/          # 共通処理
│   ├── config/              # 設定ファイル
│   ├── lib/                 # ユーティリティ
│   └── server.ts            # エントリーポイント
├── public/                  # 静的ファイル（CSS、画像など）
├── docker-compose.yml       # Docker設定
├── Dockerfile               # Dockerイメージ定義
├── package.json             # パッケージ情報
└── README.md                # このファイル
```

---

## 📌 課題の進め方

### ステップ1: リポジトリをForkしてクローンする

1. このリポジトリを自分のGitHubアカウントにForkする
2. Forkしたリポジトリをクローンする
   ```bash
   git clone <ForkしたリポジトリのURL>
   cd <リポジトリ名>
   ```

---

### ステップ2: アプリケーションを起動して動作確認

1. **起動する**
   ```bash
   docker-compose up
   ```

2. **動作を確認する**
   - ブラウザで `http://localhost:3000` にアクセス
   - どんな機能があるか確認しましょう
   - **⚠️ 重要: 一覧表示・新規作成・編集・削除のすべての機能を必ず試してください**
   - 実際に操作してみて、おかしな動作がないか探してみましょう

---

### ステップ3: バグを見つける

- アプリケーションを操作して、正しく動作しない箇所を特定します
- エラーが出ている場合は、ターミナル（docker-compose upを実行している画面）でエラーログを確認しましょう
- コードを読んで、問題の原因を探ります

**バグの種類:**
- **致命的バグ**: アプリケーションが正常に動作しない重大な問題
- **非致命的バグ**: 非致命的バグ: 動作はするが、可読性・設計・保守性に違和感がある箇所（分かりにくい変数名等）

---

### ステップ4: GitHubでIssueを作成する

発見したバグについて、GitHubでIssueを作成してください。

> **Note:** 非致命的バグについては、Issueの発行のみでも構いません。余裕があれば修正にも挑戦してみてください。

---

### ステップ5: ブランチを切って修正する

実務を意識したブランチ運用・Issue/PR運用を行ってください。

1. **適切なブランチを作成する**

2. **修正作業を行う**
   - コードを修正して、バグを解消します
   - 修正後は必ず動作確認を行いましょう

3. **変更をコミットする**

---

### ステップ6: GitHubでPull Requestを作成してマージする

修正が完了したら、変更をプッシュしてGitHubでPull Requestを作成してください。

- Pull Requestを作成したら、自分でマージしてください

---

## 🎯 提出基準

### 必須（最低限）

- ✅ **致命的バグをすべて修正**していること
- ✅ **📌 課題の進め方**通りの対応フローとなっていること

### 推奨

- 💡 非致命的バグについても**GitHub Issueが作成**されていること
- 💡 ブランチ、Issue、Pull Requestが**実務を意識した内容**になっていること

### チャレンジ

- ✨ 非致命的バグについても**修正してPull Requestが作成され、マージ**されていること

---

## 💡 ヒント

- サーバー側のログやエラーは、ターミナル（docker-compose upを実行している画面）に表示されます
- データベースの状態を確認したい場合は、プロジェクトルートに作成される`db.sqlite`ファイルをSQLiteツールで開けます
- コードを変更したら、必ず動作確認をしましょう
- **バグは主に `src/app/note/` 配下に存在します**

---

## ❓ 困ったときは

- Dockerが起動しない → Docker Desktopが起動しているか確認してください
- ポート3000が使えない → 他のアプリケーションがポート3000を使用している可能性があります
- コードを変更したのに反映されない → ファイルが保存されているか確認し、ブラウザを再読み込みしてください

---

## 📚 参考リンク

- [Hono公式ドキュメント](https://hono.dev/)
- [EJS公式ドキュメント](https://ejs.co/)
- [SQLite公式サイト](https://www.sqlite.org/)
- [Docker公式ドキュメント](https://docs.docker.com/)

---

Good luck! 🎉
